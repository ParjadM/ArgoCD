syntax = "proto3";
option go_package = "github.com/argoproj/argo-cd/server/cluster";

// Cluster Service
//
// Cluster Service API allows 
package cluster;

import "google/api/annotations.proto";
import "server/core/core.proto";

// ClusterMessage holds Kuberentes cluster information
message ClusterMessage {
    string Name = 1;
    string Server = 2;
    string Certificate = 3;
    string Token = 4;
    string Description = 5;
}

// ClusterListMessage holds multiple clusters
message ClusterListMessage {
    repeated ClusterMessage items = 1;
}


message ClusterQuery {}

// ClusterService 
service ClusterService {
	// GetClusters returns list of clusters
	rpc GetClusters(ClusterQuery) returns (ClusterListMessage) {
		option (google.api.http) = {
			get: "/api/v1/clusters"
		};
	}

    // GetCluster returns a cluster by name
    rpc GetCluster(core.NameMessage) returns (ClusterMessage) {
		option (google.api.http) = {
			get: "/api/v1/clusters/{Name}"
		};
	}

}
